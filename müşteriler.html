<!DOCTYPE html>
<html lang="tr">
<head>
  <meta charset="UTF-8">
  <title>Müşteri Yönetimi</title>
  <link rel="stylesheet" href="style.css">

  <!-- Select2 CSS -->
  <link href="https://cdn.jsdelivr.net/npm/select2@4.1.0-rc.0/dist/css/select2.min.css" rel="stylesheet" />
</head>
<body>
  <header>
    <h1>👤 Müşteri Yönetimi</h1>
    <a href="anasayfa.html">← Anasayfa</a>
  </header>

  <main>
    <section>
      <h2>Yeni Müşteri Ekle</h2>
      <form id="musteriForm">
        <input type="text" id="adSoyad" placeholder="Ad Soyad" required>
        <input type="tel" id="telefon" placeholder="Telefon">
        <input type="email" id="email" placeholder="E-posta">
        <input type="text" id="tcKimlik" placeholder="TC Kimlik No">
        <button type="submit">Ekle</button>
      </form>      
    </section>

    <section>
      <h2>👥 Müşteri Listesi</h2>

      <!-- Modern Arama Çubuğu -->
      <div class="arama-container">
        <input type="text" id="arama" placeholder="Müşteri, telefon, e-posta, adres...">
      </div>

      <!-- 🔍 Select2 Dropdown -->
      <label for="musteriSelect">Müşteri Ara:</label>
      <select id="musteriSelect" style="width: 100%"></select>

      <table id="musteriTablo">
        <thead>
          <tr>
            <th>Ad Soyad</th>
            <th>Telefon</th>
            <th>Email</th>
            <th>TC</th>
            <th>İşlem</th>
          </tr>
        </thead>
        <tbody></tbody>
      </table>

      <br>
      <button id="jsonExport">📁 JSON Aktar</button>
      <button id="excelExport">📊 Excel Aktar</button>
    </section>
  </main>

  <!-- 🔧 Müşteri Düzenleme Modalı -->
  <div id="duzenleModal" class="modal">
    <div class="modal-icerik">
      <span class="kapatBtn" id="kapatModal">&times;</span>
      <h2>📝 Müşteri Bilgilerini Güncelle</h2>
      <form id="duzenleForm">
        <input type="text" id="duzenleAdSoyad" placeholder="Ad Soyad">
        <input type="text" id="duzenleTelefon" placeholder="Telefon">
        <input type="email" id="duzenleEmail" placeholder="Email">
        <input type="text" id="duzenleTC" placeholder="TC Kimlik No">
        <button type="submit">Kaydet</button>
      </form>
    </div>
  </div>

  <!-- JS kütüphaneleri -->
  <script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>
  <script src="https://cdn.jsdelivr.net/npm/select2@4.1.0-rc.0/dist/js/select2.min.js"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/xlsx/0.18.5/xlsx.full.min.js"></script>

  <!-- JS dosyaları -->
  <script src="müşteriler.js"></script>
  <script type="module" src="firebase.js"></script>
  <script type="module" src="musteriEkle.js"></script>
  <script type="module" src="policeEkle.js"></script>
  <script type="module" src="raporlamaFirebase.js"></script>
  <script type="module" src="musterilerListe.js"></script>
</body>
</html>
