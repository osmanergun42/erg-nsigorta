<!DOCTYPE html>
<html lang="tr">
<head>
  <meta charset="UTF-8">
  <title>Raporlama Paneli</title>
  <link rel="stylesheet" href="style.css">
</head>
<body>
  <header>
    <h1>ğŸ“Š Raporlama Paneli</h1>
    <a href="index.html">â† Anasayfa</a>
  </header>

  <main>
    <!-- ğŸ•½ï¸ Dropdown ve Ay SeÃ§ici -->
    <section>
      <h2>ğŸ›ï¸ Grafik Filtresi: Kimin MÃ¼ÅŸterisi SeÃ§</h2>
      <select id="acenteFiltre">
        <option value="">TÃ¼mÃ¼</option>
      </select>

      <label>Ay:
        <input type="month" id="ayFiltre">
      </label>
      <button id="filtreleBtn">ğŸ” Filtrele</button>
    </section>

    <!-- ğŸ“‹ Tablo AlanÄ± -->
    <section style="margin-top: 30px;">
      <h2>ğŸ“‹ FiltrelenmiÅŸ PoliÃ§eler</h2>
      <table id="filtreTablosu">
        <thead>
          <tr>
            <th>MÃ¼ÅŸteri</th>
            <th>Plaka</th>
            <th>Tescil No</th>
            <th>TÃ¼r</th>
            <th>BaÅŸlangÄ±Ã§</th>
            <th>BitiÅŸ</th>
            <th>Prim</th>
            <th>Kimin MÃ¼ÅŸterisi</th>
            <th>DÄ±ÅŸ Acente</th>
          </tr>
        </thead>
        <tbody></tbody>
      </table>
      <button id="excelFiltreAktarBtn" style="margin-top: 10px;">ğŸ“… Excel'e Aktar</button>
    </section>

    <!-- ğŸ“Š Grafikler -->
    <section style="margin-top: 50px;">
      <h2>ğŸ“Š PoliÃ§e TÃ¼rlerine GÃ¶re DaÄŸÄ±lÄ±m</h2>
      <canvas id="turGrafik" height="120"></canvas>
    </section>
    <section style="margin-top: 50px;">
      <h2>ğŸ“… Aylara GÃ¶re Toplam Prim TutarÄ±</h2>
      <canvas id="aylikPrimGrafik" height="120"></canvas>
    </section>
    <section style="margin-top: 50px;">
      <h2>ğŸ’¸ Aylara GÃ¶re Toplam Komisyon</h2>
      <canvas id="aylikKomisyonGrafik" height="120"></canvas>
    </section>
    <section style="margin-top: 50px;">
      <h2>ğŸ“Š Kimin MÃ¼ÅŸterisi BazlÄ± Komisyon DaÄŸÄ±lÄ±mÄ±</h2>
      <canvas id="kiminKomisyonPie" height="120"></canvas>
    </section>  

    <section style="margin-top: 50px;">
      <h2>ğŸ—ˆï¸ Grafik PDF AktarÄ±mÄ±</h2>
      <button id="pdfAktarBtn">ğŸ“„ PDF Olarak Kaydet</button>
    </section>  
  </main>

  <!-- Scriptler - DOÄRU SIRADA -->
  <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/xlsx/0.18.5/xlsx.full.min.js"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/jspdf/2.5.1/jspdf.umd.min.js"></script>

  <script type="module" src="firebase.js"></script>
  <script type="module" src="raporlamaFirebase.js"></script>
  <script src="raporlama.js"></script>
</body>
</html>