<!DOCTYPE html>
<html lang="tr">
<head>
  <meta charset="UTF-8">
  <title>Raporlama Paneli</title>
  <link rel="stylesheet" href="style.css">
</head>
<body>
  <header>
    <h1>ğŸ“Š Raporlama Paneli</h1>
    <a href="index.html">â† Anasayfa</a>
  </header>

  <main>
    <!-- Kimin MÃ¼ÅŸterisi ile Filtreleme -->
    <section>
      <h2>ğŸ” Kimin MÃ¼ÅŸterisine GÃ¶re Rapor</h2>
      <input type="text" id="kiminFiltre" placeholder="Kimin mÃ¼ÅŸterisiyle ara...">
      <button id="excelAktar">ğŸ“¥ Excel'e Aktar</button>
      <table id="kiminTablosu" style="margin-top: 15px;">
        <thead>
          <tr>
            <th>MÃ¼ÅŸteri</th>
            <th>Plaka</th>
            <th>Tescil No</th>
            <th>TÃ¼r</th>
            <th>BitiÅŸ</th>
            <th>Prim</th>
            <th>Kimin MÃ¼ÅŸterisi</th>
            <th>DÄ±ÅŸ Acente</th>
          </tr>
        </thead>
        <tbody></tbody>
      </table>
    </section>

    <!-- Tarih AralÄ±ÄŸÄ±yla Ã–nizleme ve Excel -->
    <section style="margin-top: 40px;">
      <h2>ğŸ“… Tarih AralÄ±ÄŸÄ±na GÃ¶re Rapor</h2>
      <label>BaÅŸlangÄ±Ã§: <input type="date" id="tarihBaslangic"></label>
      <label>BitiÅŸ: <input type="date" id="tarihBitis"></label>
      <button id="onizleBtn">ğŸ” Ã–nizle</button>
      <button id="excelTarihAktarBtn" disabled>ğŸ“¥ Excel'e Aktar</button>
      <table id="tarihTablosu" style="margin-top: 15px;">
        <thead>
          <tr>
            <th>MÃ¼ÅŸteri</th>
            <th>Plaka</th>
            <th>Tescil No</th>
            <th>TÃ¼r</th>
            <th>BitiÅŸ</th>
            <th>Prim</th>
            <th>Kimin MÃ¼ÅŸterisi</th>
            <th>DÄ±ÅŸ Acente</th>
          </tr>
        </thead>
        <tbody></tbody>
      </table>
    </section>
  </main>

  <!-- Grafikler -->
  <section>
    <h2>ğŸ›ï¸ Grafik Filtresi: Kimin MÃ¼ÅŸterisi SeÃ§</h2>
    <select id="acenteFiltre">
      <option value="">TÃ¼mÃ¼</option>
    </select>
  </section> 

  <section style="margin-top: 50px;">
    <h2>ğŸ“Š PoliÃ§e TÃ¼rlerine GÃ¶re DaÄŸÄ±lÄ±m</h2>
    <canvas id="turGrafik" height="120"></canvas>
  </section>
  <section style="margin-top: 50px;">
    <h2>ğŸ“… Aylara GÃ¶re Toplam Prim TutarÄ±</h2>
    <canvas id="aylikPrimGrafik" height="120"></canvas>
  </section>
  <section style="margin-top: 50px;">
    <h2>ğŸ’¸ Aylara GÃ¶re Toplam Komisyon</h2>
    <canvas id="aylikKomisyonGrafik" height="120"></canvas>
  </section>
  <section style="margin-top: 50px;">
    <h2>ğŸ“Š Kimin MÃ¼ÅŸterisi BazlÄ± Komisyon DaÄŸÄ±lÄ±mÄ±</h2>
    <canvas id="kiminKomisyonPie" height="120"></canvas>
  </section>  

  <section style="margin-top: 50px;">
    <h2>ğŸ–¨ï¸ Grafik PDF AktarÄ±mÄ±</h2>
    <button id="pdfAktarBtn">ğŸ“„ PDF Olarak Kaydet</button>
  </section>  

  <!-- Scriptler - DOÄRU SIRADA -->
  <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/xlsx/0.18.5/xlsx.full.min.js"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/jspdf/2.5.1/jspdf.umd.min.js"></script>

  <script type="module" src="firebase.js"></script>
  <script type="module" src="raporlamaFirebase.js"></script>
  <script src="raporlama.js"></script>
</body>
</html>
